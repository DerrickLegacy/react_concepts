{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nconst UseQueryData = url => {\n  _s();\n  const [data, setData] = useState(null);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(null);\n  useEffect(() => {\n    if (!url) {\n      return;\n    }\n    const source = axios.CancelToken.source();\n    const fetchData = async () => {\n      setIsLoading(true);\n      try {\n        const response = await axios.get(url, {\n          cancelToken: source.token\n        });\n        if (response.status === 200) {\n          setData(response.data);\n        } else {\n          throw new Error(`Error : ${response.status}, ${response.statusText}`);\n        }\n      } catch (error) {\n        if (axios.isCancel(error)) {\n          console.log(\"Request canceled \", error.message);\n        } else {\n          console.error(error.message);\n          setError(error);\n        }\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchData();\n    return () => {\n      source.cancel(\"Operation Canceled by User\");\n    };\n  }, [url]);\n  return [data, error, isLoading];\n};\n_s(UseQueryData, \"abNjIJeb41UBI+EOc8p/Kgd0lIM=\");\n_c = UseQueryData;\nexport default UseQueryData;\nvar _c;\n$RefreshReg$(_c, \"UseQueryData\");","map":{"version":3,"names":["useEffect","useState","axios","UseQueryData","url","_s","data","setData","error","setError","isLoading","setIsLoading","source","CancelToken","fetchData","response","get","cancelToken","token","status","Error","statusText","isCancel","console","log","message","cancel","_c","$RefreshReg$"],"sources":["/home/derrick-legacy256/Desktop/Projects/React/react_custom_hooks/src/custom_hook_4/useQueryData.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport axios from \"axios\"\n\nconst UseQueryData = (url) => {\n    const [data, setData] = useState(null)\n    const [error, setError] = useState(null)\n    const [isLoading, setIsLoading] = useState(null)\n\n    useEffect(() => {\n        if (!url) {\n            return;\n        }\n\n        const source = axios.CancelToken.source()\n\n        const fetchData = async () => {\n            setIsLoading(true);\n\n            try {\n                const response = await axios.get(url, { cancelToken: source.token });\n\n                if (response.status === 200) {\n                    setData(response.data);\n                } else {\n                    throw new Error(`Error : ${response.status}, ${response.statusText}`);\n                }\n\n            } catch (error) {\n                if (axios.isCancel(error)) {\n                    console.log(\"Request canceled \", error.message);\n                } else {\n                    console.error(error.message);\n                    setError(error);\n                }\n            } finally {\n                setIsLoading(false);\n            }\n        }\n\n        fetchData();\n\n        return () => {\n            source.cancel(\"Operation Canceled by User\");\n        };\n\n    }, [url])\n\n    return [data, error, isLoading];\n}\n\nexport default UseQueryData;"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,YAAY,GAAIC,GAAG,IAAK;EAAAC,EAAA;EAC1B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACO,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACS,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAEhDD,SAAS,CAAC,MAAM;IACZ,IAAI,CAACI,GAAG,EAAE;MACN;IACJ;IAEA,MAAMQ,MAAM,GAAGV,KAAK,CAACW,WAAW,CAACD,MAAM,CAAC,CAAC;IAEzC,MAAME,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC1BH,YAAY,CAAC,IAAI,CAAC;MAElB,IAAI;QACA,MAAMI,QAAQ,GAAG,MAAMb,KAAK,CAACc,GAAG,CAACZ,GAAG,EAAE;UAAEa,WAAW,EAAEL,MAAM,CAACM;QAAM,CAAC,CAAC;QAEpE,IAAIH,QAAQ,CAACI,MAAM,KAAK,GAAG,EAAE;UACzBZ,OAAO,CAACQ,QAAQ,CAACT,IAAI,CAAC;QAC1B,CAAC,MAAM;UACH,MAAM,IAAIc,KAAK,CAAC,WAAWL,QAAQ,CAACI,MAAM,KAAKJ,QAAQ,CAACM,UAAU,EAAE,CAAC;QACzE;MAEJ,CAAC,CAAC,OAAOb,KAAK,EAAE;QACZ,IAAIN,KAAK,CAACoB,QAAQ,CAACd,KAAK,CAAC,EAAE;UACvBe,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEhB,KAAK,CAACiB,OAAO,CAAC;QACnD,CAAC,MAAM;UACHF,OAAO,CAACf,KAAK,CAACA,KAAK,CAACiB,OAAO,CAAC;UAC5BhB,QAAQ,CAACD,KAAK,CAAC;QACnB;MACJ,CAAC,SAAS;QACNG,YAAY,CAAC,KAAK,CAAC;MACvB;IACJ,CAAC;IAEDG,SAAS,CAAC,CAAC;IAEX,OAAO,MAAM;MACTF,MAAM,CAACc,MAAM,CAAC,4BAA4B,CAAC;IAC/C,CAAC;EAEL,CAAC,EAAE,CAACtB,GAAG,CAAC,CAAC;EAET,OAAO,CAACE,IAAI,EAAEE,KAAK,EAAEE,SAAS,CAAC;AACnC,CAAC;AAAAL,EAAA,CA7CKF,YAAY;AAAAwB,EAAA,GAAZxB,YAAY;AA+ClB,eAAeA,YAAY;AAAC,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}